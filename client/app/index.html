<!DOCTYPE html>
<html lang="en">

<head>
  <title translate>Ark Client</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

  <style type="text/css">
    html,
    body {
      background-color: #000
    }

    html {
      border-radius: 10px;
    }

    .splash {
      display: none;
      overflow-x: hidden;
    }
    
    [ng-cloak].splash {
      background-color: #06060c;
      background-image: url("splashscreen.png");
      background-position: inherit;
      background-repeat: no-repeat;
      background-size: cover;
      width: 90vw;
      height: 90vh;
      margin: 0 auto;
      text-align: center;
      display: block !important;
      padding: 2em;
      -webkit-animation: fadein 2s;
      animation: fadein 2s;
    }

    .splash__title {
      color: #FFF;
      display: block;
      font-size: 1.2em;
      font-weight: bold;
      line-height: 1.4em;
    }
  </style>

</head>

<body id="app" ng-app="arkclient" layout="column" ng-controller="AccountController as ul" md-theme="ul.currentTheme" background-style="ul.network.background" class="too-pale-background">
  <div class="splash" ng-cloak="">
    <div class="splash__title">
      <p translate>Loading...</p>
    </div>
  </div>

  <div ng-cloak="" style="height: 100%" layout="column">

	<main-navbar account-ctrl="ul"></main-navbar>

  <div class="main-dashboard" layout="column" layout-align="space-around center" ng-if="!ul.selected" flex>

    <account-box account-ctrl="ul" id="home-box-accounts" md-whiteframe="3"></account-box>

    <div id="home-box-row" layout="row" layout-align="space-between stretch">
      <market-box account-ctrl="ul" ng-if="ul.connectedPeer.market.marketCap"></market-box>
      <network-box account-ctrl="ul"></network-box>
    </div>
    <!-- 
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script type="text/javascript" src="https://files.coinmarketcap.com/static/widget/currency.js"></script>
    <div class="coinmarketcap-currency-widget" style="opacity:0.9; border-radius:10px; border:0; width: 360px; margin:10px; background:white;" data-currency="{{ul.network.token}}" data-base="{{ul.currency.name}}" data-secondary="BTC"></div> -->
    <!--<iframe src="heartbeat.html" style="border:0;width:100%;opacity:0.8;left:50px;right:50px;"></iframe>-->
    <!--<iframe src="clock.html" style="border:0;width:100%;opacity:0.8;left:50px;right:50px;"></iframe>-->

    <div class="footer">
      <translate>Hand crafted with ‚ù§ by</translate> <a href="#" onclick='require("electron").shell.openExternal("https://ark.io")'>Ark</a>
    </div>
  </div>

  <div class="account-view" ng-if="ul.selected" ng-controller="AddressbookController as ab" layout="column" flex>
    <md-content flex layout="row">

      <md-sidenav ng-click="ul.toggleList()" md-is-locked-open="$mdMedia('gt-md')" md-component-id="left" class="md-whiteframe-z2">
        <main-sidenav account-ctrl="ul" address-book-ctrl="ab"></main-sidenav>
      </md-sidenav>

      <md-content flex layout="column" id="content">
        <md-card flex="none">
          <div class="share">
            <md-button ng-if="!ul.refreshAccountsAutomatically" md-no-ink ng-click="ul.refreshCurrentAccount()" aria-label="Refresh Account">
              <md-icon md-font-library="material-icons">cached</md-icon>
              <md-tooltip>
                <translate>Refresh Account</translate>
              </md-tooltip>
            </md-button>

            <md-button ng-if="ul.selected.virtual" md-no-ink ng-click="ul.sendArk(ul.selected)" aria-label="Share with {{ ul.selected.address }}">
              <md-icon md-font-library="material-icons">send</md-icon>
              <md-tooltip>
                  <translate>Send</translate>
              </md-tooltip>
            </md-button>
            
            <md-button md-no-ink ng-click="ul.exportAccount(ul.selected)" aria-label="Export Account">
              <md-icon md-font-library="material-icons">file_download</md-icon>
              <md-tooltip>
                <translate>Export Account</translate>
              </md-tooltip>
            </md-button>

            <span>
              <md-button md-no-ink ng-if="!ul.selected.virtual || ab.getContactFromAddress(ul.selected.address)" ng-click="ab.editAddressbookContact(ul.selected.address)" aria-label="Share with {{ ul.selected.address }}">
                <md-icon md-font-library="material-icons">edit</md-icon>
                <md-tooltip>
                    <translate>Edit Contact</translate>
                </md-tooltip>
              </md-button>
            </span>

            <md-button ng-if="ul.selected.virtual" md-no-ink ng-click="ul.showAccountMenu(ul.selected)" aria-label="Share with {{ ul.selected.address }}">
              <md-icon md-font-library="material-icons">more_vert</md-icon>
            </md-button>

          </div>
          <md-card-title>
            <md-card-title-media>
              <div class="md-media-sm card-media" style="margin:10px; width:128px;height:128px;" layout layout-align="center center">
                <qrcode size="128" data='{"a":"{{ul.selected.address}}"}'></qrcode>
              </div>
            </md-card-title-media>
            <md-card-title-text>
              <span class="md-headline">
                  <!--<md-button class="md-fab md-primary md-mini" ng-click="ul.openPassphrasesDialog(ul.selected)">
                    <md-icon md-font-library="material-icons">lock</md-icon>
                  </md-button>-->
                  <span class="delegate-name">{{ab.getContactFromAddress(ul.selected.address).name || ul.selected.username || 'Address'}} {{ul.selected.ledger}}</span>
              <br>
              <md-button ng-click="ul.copiedToClipboard()" style="text-transform: none;" copy-to-clipboard="{{((!ul.showPublicKey) && ul.selected.address || ul.selected.publicKey)}}">
                <md-icon>content_copy</md-icon>
                <md-tooltip md-direction="top">
                  {{ 'Copy' | translate }} {{ ul.showPublicKey ? ('Public Key' | translate | lowercase) : ('Address' | translate | lowercase) }}</translate>
                </md-tooltip>
                {{((!ul.showPublicKey) && ul.selected.address || ul.selected.publicKey)}}
              </md-button>
              <md-icon ng-if="ul.selected.publicKey" aria-label="Address" style="cursor: pointer;outline: none" ng-click="ul.showPublicKey = !ul.showPublicKey" md-font-library="material-icons">
                <md-tooltip md-direction="top">
                  {{ 'Show' | translate }} {{ !ul.showPublicKey ? ('Public Key' | translate | lowercase) : ('Address' | translate | lowercase) }}</translate>
                </md-tooltip>
                {{((!ul.showPublicKey) && 'vpn_key' || 'public')}}
              </md-icon>
              </span>
              <span class="md-subhead description">
                  <translate class="balance">Balance</translate> {{ul.network.symbol}}{{ul.selected.balance/100000000}}
                  <md-button ng-click="ul.selectNextCurrency()">{{ul.selected.balance/100000000 | amountToCurrency:this | formatCurrency:ul }}</md-button>
                </span>
            </md-card-title-text>
          </md-card-title>
        </md-card>


        <md-tabs flex="100">
          <div ng-controller="AccountTransactionsController as transactionsCtrl">
            <transaction-tab account-ctrl="ul" transactions-ctrl="transactionsCtrl"></transaction-tab>
          </div>
          <votes-tab account-ctrl="ul"></votes-tab>
          <signing-tab account-ctrl="ul" ng-if="!ul.selected.ledger"></signing-tab>
          <exchange-tab account-ctrl="ul"></exchange-tab>
          <offchain-tab account-ctrl="ul"></offchain-tab>
          <delegate-tab account-ctrl="ul" ng-if="ul.selected.delegate"></delegate-tab>
        </md-tabs>

      </md-content>
    </div>
  </div>
  
  <link rel="stylesheet" href="assets/css/roboto.css" />
  <link rel="stylesheet" href="assets/css/material-icons.css" />
  <link rel="stylesheet" href="../node_modules/angular-material/angular-material.min.css" />
  <link href="../node_modules/angular-material-data-table/dist/md-data-table.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="assets/app.css" />

  <script src="dependencies.min.js"></script>
  <script src="src/utils/translations.js"></script>

  <script src="src/init.js"></script>
  <script src="src/filters/filters.js"></script>

  <script src="src/addons/pluginLoader.addon.js"></script>

  <script src="src/services/config.service.js"></script>
  <script src="src/services/storage.service.js"></script>
  <script src="src/services/network.service.js"></script>
  <script src="src/services/changer.service.js"></script>
  <script src="src/services/ledger.service.js"></script>
  <script src="src/services/time.service.js"></script>
  <script src="src/services/toast.service.js"></script>

  <script src="src/accounts/account.service.js"></script>
  <script src="src/accounts/account-transactions.controller.js"></script>
  <script src="src/accounts/account.controller.js"></script>

  <script src="src/directives/validAmount.directive.js"></script>
  <script src="src/directives/copyToClipboard.directive.js"></script>
  <script src="src/directives/backgroundStyle.directive.js"></script>

  <script src="src/components/layout/main-navbar.controller.js"></script>
  <script src="src/components/dashboard/account-box.controller.js"></script>
  <script src="src/components/dashboard/market-box.controller.js"></script>
  <script src="src/components/dashboard/network-box.controller.js"></script>
  <script src="src/components/account/main-sidenav.controller.js"></script>
  <script src="src/components/account/transaction-tab.controller.js"></script>
  <script src="src/components/account/votes-tab.controller.js"></script>
  <script src="src/components/account/signing-tab.controller.js"></script>
  <script src="src/components/account/exchange-tab.controller.js"></script>
  <script src="src/components/account/offchain-tab.controller.js"></script>
  <script src="src/components/account/delegate-tab.controller.js"></script>
  <script src="src/components/qrScanner/qrScanner.controller.js"></script>
  <script src="src/components/qrScanner/qrScanner.directive.js"></script>
  <script src="src/components/addressbook/addressbook.controller.js"></script>

  <script src="app.js"></script>

</body>

</html>
