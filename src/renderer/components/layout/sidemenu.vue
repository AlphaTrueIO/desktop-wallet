<template>
  <nav class="bg-theme-feature flex flex-col w-18 mx-6 rounded-lg justify-between relative">
    <div>
      <!-- ARK logo -->
      <router-link
        :to="{ name: 'dashboard' }"
        class="bg-red px-3 py-4 rounded-t-lg flex justify-center items-center">
        <img
          class="w-18"
          src="@/assets/images/ark-logo.png"
        >
      </router-link>

      <!-- Wallets -->
      <sidemenu-item
        :is-active="isActive('wallets')"
        name="wallets"
        view-box="0 0 23 20"
        icon-path-d="M21.8,8.489V7.583a3.557,3.557,0,0,0-2.618-3.447l0-1.493A2.622,2.622,0,0,0,16.587,0H16.45L4.313,3.838a2.52,2.52,0,0,0-.785.18H3.5A3.536,3.536,0,0,0,0,7.583v8.852A3.536,3.536,0,0,0,3.5,20H18.3a3.536,3.536,0,0,0,3.5-3.566V15.257A1.91,1.91,0,0,0,23,13.478V10.267A1.91,1.91,0,0,0,21.8,8.489Zm-.609,4.989a.064.064,0,0,1-.064.065h-4.9a.063.063,0,0,1-.063-.065V10.267a.064.064,0,0,1,.063-.064h4.9a.064.064,0,0,1,.064.064ZM16.7,1.852a.8.8,0,0,1,.673.793l0,1.373H9.85Zm1.605,16.3H3.5a1.706,1.706,0,0,1-1.688-1.722V7.583A1.705,1.705,0,0,1,3.5,5.861H18.3a1.705,1.705,0,0,1,1.689,1.722v.776h-3.76a1.893,1.893,0,0,0-1.872,1.908v3.211a1.893,1.893,0,0,0,1.872,1.909h3.76v1.048A1.705,1.705,0,0,1,18.3,18.156Z"
        @click="redirect($event)"
      />

      <!-- Add contact -->
      <sidemenu-item
        :is-active="isActive('contacts')"
        name="contacts"
        view-box="0 0 19 24"
        icon-path-d="M14,23V21H12a1,1,0,1,1,0-2h2V17a1,1,0,1,1,2,0v2h2a1,1,0,1,1,0,2H16v2a1,1,0,1,1-2,0ZM2.522,21c-1.459,0-2.4-1.105-2.4-2.816.029-.211.062-.419.1-.623a11.055,11.055,0,0,1,4.115-6.589A6.4,6.4,0,0,1,2.393,6.345,6.236,6.236,0,0,1,8.5,0a6.236,6.236,0,0,1,6.106,6.344,6.394,6.394,0,0,1-1.941,4.626l.024.021c.426.382.956.857,1.467,1.4.042.045.076.085.112.13a2.557,2.557,0,0,0,.212.23.341.341,0,0,1,.034.394,2.223,2.223,0,0,1-1.227.982.074.074,0,0,1-.062-.023c-.121-.152-.175-.213-.246-.291l-.055-.061a18.141,18.141,0,0,0-1.452-1.4l-.074-.066-.067-.06a7.162,7.162,0,0,1-2.826.615,7.093,7.093,0,0,1-2.84-.615c-.047.041-.094.083-.14.126A8.76,8.76,0,0,0,2.221,17.4a2.687,2.687,0,0,1-.093.388c-.086.3-.175.6,0,.832.19.254.691.377,1.531.377h3.4a.168.168,0,0,1,.154.091.488.488,0,0,1,.049.239c0,.556-.513,1.669-1.187,1.669ZM4.01,6.35A4.412,4.412,0,0,0,8.5,10.67a4.412,4.412,0,0,0,4.49-4.32A4.412,4.412,0,0,0,8.5,2.03,4.412,4.412,0,0,0,4.01,6.35Z"
        @click="redirect($event)"
      />
    </div>

    <div>
      <sidemenu-options-settings v-show="isSettingsVisible" />

      <!-- Settings -->
      <sidemenu-item
        :is-active="isActive('settings')"
        name="settings"
        view-box="0 0 23 23"
        icon-path-d="M10.484,23a1.42,1.42,0,0,1-1.4-1.187L8.812,20.2a9.037,9.037,0,0,1-1.518-.625l-1.35.961a1.415,1.415,0,0,1-1.826-.154L2.686,18.95a1.417,1.417,0,0,1-.154-1.831L3.479,15.8a8.821,8.821,0,0,1-.658-1.561l-1.633-.278A1.419,1.419,0,0,1,0,12.56V10.536a1.418,1.418,0,0,1,1.187-1.4l1.595-.269a8.81,8.81,0,0,1,.639-1.571L2.46,5.944a1.423,1.423,0,0,1,.154-1.831L4.05,2.681a1.418,1.418,0,0,1,1.831-.154L7.2,3.479a8.926,8.926,0,0,1,1.562-.658l.278-1.633A1.419,1.419,0,0,1,10.445,0h2.023a1.418,1.418,0,0,1,1.4,1.187l.269,1.595a9.056,9.056,0,0,1,1.625.668L17.1,2.5a1.412,1.412,0,0,1,1.826.154l1.432,1.432a1.417,1.417,0,0,1,.153,1.831L19.56,7.246a9.1,9.1,0,0,1,.649,1.566l1.615.274A1.4,1.4,0,0,1,23,10.489v2.023a1.418,1.418,0,0,1-1.187,1.4l-1.615.269a9.072,9.072,0,0,1-.648,1.567l.951,1.336a1.423,1.423,0,0,1-.154,1.831l-1.432,1.432a1.419,1.419,0,0,1-1.831.153l-1.331-.951a9.1,9.1,0,0,1-1.566.649l-.274,1.615A1.421,1.421,0,0,1,12.512,23ZM7.837,17.787a7.46,7.46,0,0,0,1.834.751.6.6,0,0,1,.443.482l.313,1.876a.116.116,0,0,0,.116.1h1.884a.116.116,0,0,0,.116-.1l.318-1.876a.6.6,0,0,1,.443-.482,7.15,7.15,0,0,0,1.875-.778.605.605,0,0,1,.658.027l1.553,1.1a.106.106,0,0,0,.067.022.114.114,0,0,0,.086-.036l1.333-1.331a.122.122,0,0,0,.013-.152l-1.105-1.554a.6.6,0,0,1-.027-.656,7.135,7.135,0,0,0,.778-1.872.6.6,0,0,1,.483-.442l1.879-.312a.117.117,0,0,0,.1-.117h0V10.56a.116.116,0,0,0-.1-.116l-1.879-.317a.6.6,0,0,1-.483-.443,7.142,7.142,0,0,0-.778-1.871.6.6,0,0,1,.027-.657l1.105-1.55a.123.123,0,0,0-.014-.152L17.545,4.123a.123.123,0,0,0-.085-.035.135.135,0,0,0-.067.022L15.85,5.217a.606.606,0,0,1-.658.027,7.255,7.255,0,0,0-1.919-.786.606.606,0,0,1-.448-.487l-.312-1.863a.116.116,0,0,0-.117-.1H10.513a.116.116,0,0,0-.117.1L10.074,4a.61.61,0,0,1-.443.482,7.119,7.119,0,0,0-1.869.787A.613.613,0,0,1,7.1,5.24l-1.543-1.1a.111.111,0,0,0-.068-.023.114.114,0,0,0-.085.036L4.071,5.486a.121.121,0,0,0-.014.152L5.171,7.2a.6.6,0,0,1,.031.652,7.171,7.171,0,0,0-.765,1.877.6.6,0,0,1-.487.446l-1.866.313a.116.116,0,0,0-.1.116v1.88a.116.116,0,0,0,.1.116l1.892.322a.61.61,0,0,1,.483.442,7.074,7.074,0,0,0,.787,1.867.612.612,0,0,1-.027.661l-1.1,1.541a.123.123,0,0,0,.014.152l1.334,1.331a.119.119,0,0,0,.085.036.134.134,0,0,0,.068-.022l1.565-1.112a.6.6,0,0,1,.349-.112A.625.625,0,0,1,7.837,17.787ZM7.007,11.5a4.5,4.5,0,1,1,4.495,4.5A4.5,4.5,0,0,1,7.007,11.5Zm2.006,0A2.488,2.488,0,1,0,11.5,9.011,2.49,2.49,0,0,0,9.014,11.5Z"
        @click="toggleShowSettings"
      />

      <!-- Networks -->
      <sidemenu-item
        :is-active="isActive('networks')"
        name="networks"
        view-box="0 0 23 15"
        icon-path-d="M18.592,5.625A7.176,7.176,0,0,0,11.5,0,7.03,7.03,0,0,0,5.175,3.75,5.723,5.723,0,0,0,0,9.375,5.705,5.705,0,0,0,5.75,15H18.208A4.694,4.694,0,0,0,23,10.313,4.816,4.816,0,0,0,18.592,5.625Zm-.383,7.5H5.75a3.8,3.8,0,0,1-3.833-3.75A3.8,3.8,0,0,1,5.75,5.625h.671A5.332,5.332,0,0,1,11.5,1.875a5.261,5.261,0,0,1,5.271,5.156V7.5h1.438a2.813,2.813,0,1,1,0,5.625Z"
        @click="redirect($event)"
      />

      <!-- Profile settings -->
      <div class="cursor-pointer mt-2 mb-4 px-3 align-self-end">
        <router-link
          :to="{ name: 'profile' }"
          class="h-12 w-12 flex items-center justify-center">
          <img
            src="@/assets/images/profile-menu.png"
            class="max-w-49px max-h-50px"
          >
        </router-link>
      </div>
    </div>

  </nav>
</template>

<script>
import SidemenuItem from '@/components/layout/sidemenu-item'
import SidemenuOptionsSettings from '@/components/layout/sidemenu-options-settings'

export default {
  components: {
    SidemenuItem,
    SidemenuOptionsSettings
  },

  data: () => ({
    isSettingsVisible: false,
    activeItem: null
  }),

  methods: {
    redirect (name) {
      this.setActive(null)
      this.isSettingsVisible = false
      this.$router.push({ name })
    },

    isActive (name) {
      return this.activeItem === name || (!this.activeItem && this.$route.name === name)
    },

    setActive (name) {
      this.activeItem = name
    },

    toggleShowSettings () {
      this.isSettingsVisible = !this.isSettingsVisible
      this.setActive(this.isSettingsVisible ? 'settings' : null)
    }
  }
}
</script>
